---
layout: page
title: "코로나 팬데믹 이후 품목별 소비 예측"
description: |
  2021\.09 ~ 2021\.11  
  빅데이터 캠퍼스 및 서울열린데이터광장에서 제공하는 서울시민의 카드 소비 데이터를 활용하여 코로나 이후 품목별 소비를 분석한 팀 프로젝트입니다.
hide_description: false
sitemap: false
---

0. Table of Contents
{:toc}

## Background

2021년 데이터 분석 학회에 가입하여 머신러닝 전반에 필요한 데이터 분석 코딩 스킬들을 익히고, 이를 활용해 보기 위해 진행했던 프로젝트입니다. 공공 데이터를 기반으로 사회 문제를 해결하고 비즈니스 모델을 구성하는 빅데이터 캠퍼스의 공모전이었으며, 4명의 팀으로 참여하여 프로젝트를 수행하였습니다. 

2021년 중순 이후 코로나 감염자가 급증하며 주요 이슈로 떠올랐습니다. 성인의 절반 가량이 코로나로 인한 직접적인 경제적 피해를 받고 있다는 통계, 그리고 전 세계인의 48%가 코로나로 인해 소비 습관이 바뀌었다는 통계 등을 통해 코로나 팬데믹 기간 동안 시민들의 소비 습관에 큰 변화가 있음을 알 수 있었습니다. 이에 반응하여 정부는 소비 활성화를 위한 소비 쿠폰을 보급한다는 정책을 내놓거나 코로나 19 대응을 위한 예산을 604조가량 책정하는 등 지원 정책을 발표했습니다. 저희는 그에 맞추어 한정된 예산을 더 효율적으로 운용할 수 있도록 코로나 팬데믹 이후의 소비를 예측하고 지원이 시급한 업종을 찾을 수 있는 방법을 제시하려 하였습니다.


## Process

### Data Processing

빅데이터 캠퍼스의 분석실 내에서 사용 가능한 비공개 데이터인 1. 서울시민의 업종별 카드소비 패턴 데이터, 2. 행정동 단위 거주인구 데이터, 3. 서울시 상권발달 개별지수 등 3가지 데이터를 활용하여 주된 시각화 및 분석을 진행하였고, 분석실 외에서도 분석 작업을 할 수 있는 데이터인 4. 통계청 온라인 쇼핑 동향 조사 데이터를 사용해 추가적인 시계열 분석을 진행하였습니다. 전체적인 프로세스는 다음과 같습니다.

<p align="center">
  <img width="500" src="/assets/img/projects/covid-process-all.jpg">
</p>

4명의 팀원을 시각화와 모델링, 두 파트로 나누어 분업하여 프로젝트를 수행하였습니다. 시각화 팀은 PowerBI를 활용하여 구별로 코로나 전후의 소비 변화를 업종에 따라 비교하는 차트를 만들었고, 저는 모델링 팀에 포함되어 팀원과 함께 코로나 이후의 소비를 예측할 만한 모델을 구축하려 했습니다.

분석 모델을 만들기 전, 3개의 데이터 테이블을 join하여 하나의 데이터로 만드는 과정을 거쳐야 했습니다. 이 과정에서 자치구 및 업종을 기준으로 데이터를 묶어내려 하였는데, 데이터의 발행 주체가 달라 행정동 코드를 나누는 기준이 달라 문제가 생겼습니다. 두 데이터 발행 주체의 행정동 구분 코드를 매핑하여 코드 맵을 만들고, 이 코드 맵을 따라 데이터 테이블을 묶는 과정을 거쳐 최종적으로 분석에 사용할 하나의 테이블을 만들었습니다.

이후, 분석 모델을 구축해야 했는데 저희는 많은 머신러닝 프로젝트에서 사용되는 RandomForest 기반의 분석 모델을 시계열 분석 모델로 활용하고 싶었습니다. 이에 따라, 아래와 같이 과거 6개월의 데이터를 이어 붙여 하나의 row로 만드는 과정을 통해 새로운 데이터 테이블을 만들었으며 새로 만들어진 데이터 테이블을 Train/Test 세트로 분리하여 RandomForest 모델을 학습하였습니다.

![covid-time-series-data](/assets/img/projects/covid-time-series-data.jpg){:.lead loading="lazy"}







## Meaning

데이터 분석에 대해 많이 배웠다기보단 팀 프로젝트를 효율적으로 꾸려나가려면 어떻게 해야 하는가? 에 대해 더 많이 배웠던 프로젝트 . 공공데이터 프로젝트에 최적 위치 선정이라는 주제가 너무 많아서 이를 피해가고 싶었는데, 하면 할수록 왜 최적 위치 선정에 대한 주제가 많았는지를 느꼈다. 왜? 공공데이터의 공통된 Key라고 하면 지역 말고는 딱히 없었거든. 여러 데이터를 활용하기 위해서는 데이터 테이블을 조인해서 하나의 데이터로 만들 수 있어야 하는데, 그걸 묶기 위한 Key가 지역, 위치를 제외하고는 거의 없었다. + 데이터를 탐색해 보고 나서 주제를 선정했어야 했는데, 주제를 먼저 선정하고 그와 관련된 데이터를 탐색하다 보니 프로젝트가 퇴색되었다는 문제점이 있었음.

++ Time series면. 과거 데이터만 가지고 미래 데이터를 예측해야 한다. 이미 미래의 데이터가 있는데 이걸 예측함으로서 거꾸로 가버리는 셈이 되니까.


## Skills

Python(numpy, pandas, scikit-learn)


Go back to [Myeong Hyeon Son](/about/){:.heading.flip-title}
{:.read-more}